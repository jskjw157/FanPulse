# 서브 에이전트 (Subagents)

> Claude Code에서 특정 작업 워크플로우와 개선된 컨텍스트 관리를 위해 전문 AI 서브 에이전트를 만들고 사용하세요.

Claude Code의 커스텀 서브 에이전트는 특정 유형의 작업을 처리하기 위해 호출할 수 있는 전문 AI 어시스턴트입니다. 사용자 지정 시스템 프롬프트, 도구 및 별도의 컨텍스트 창을 갖춘 작업별 구성을 제공하여 보다 효율적인 문제 해결을 가능하게 합니다.

## 서브 에이전트란 무엇인가요?

서브 에이전트는 Claude Code가 작업을 위임할 수 있는 미리 구성된 AI 성격(personalities)입니다. 각 서브 에이전트는 다음과 같은 특징이 있습니다:

- 구체적인 목적과 전문 분야를 가짐
- 메인 대화와 분리된 자체 컨텍스트 창 사용
- 사용 허용된 특정 도구 구성 가능
- 행동을 안내하는 커스텀 시스템 프롬프트 포함

Claude Code가 서브 에이전트의 전문 분야와 일치하는 작업을 만나면, 해당 작업을 전문 서브 에이전트에게 위임하고, 서브 에이전트는 독립적으로 작업하여 결과를 반환합니다.

## 주요 이점

<CardGroup cols={2}>
  <Card title="컨텍스트 보존" icon="layer-group">
    각 서브 에이전트는 자체 컨텍스트에서 작동하여 메인 대화의 오염을 방지하고 상위 목표에 집중할 수 있게 합니다.
  </Card>

  <Card title="전문적 지식" icon="brain">
    특정 도메인에 대한 상세한 지침으로 서브 에이전트를 미세 조정하여 지정된 작업의 성공률을 높일 수 있습니다.
  </Card>

  <Card title="재사용성" icon="rotate">
    한 번 생성된 서브 에이전트는 다양한 프로젝트에서 사용하고 팀과 공유하여 일관된 워크플로우를 유지할 수 있습니다.
  </Card>

  <Card title="유연한 권한" icon="shield-check">
    각 서브 에이전트는 서로 다른 도구 접근 수준을 가질 수 있어 강력한 도구를 특정 서브 에이전트 유형으로 제한할 수 있습니다.
  </Card>
</CardGroup>

## 빠른 시작

첫 번째 서브 에이전트를 만들려면 다음 단계를 따르세요:

<Steps>
  <Step title="서브 에이전트 인터페이스 열기">
    다음 명령어를 실행하세요:

    ```
    /agents
    ```

  </Step>

  <Step title="'Create New Agent' 선택">
    프로젝트 수준(Project-level) 또는 사용자 수준(User-level) 서브 에이전트 중 하나를 선택하세요.
  </Step>

  <Step title="서브 에이전트 정의">
    * **권장 사항**: 먼저 Claude로 생성한 다음 사용자 지정하여 내 것으로 만드세요.
    * 서브 에이전트와 사용 시점에 대해 자세히 설명하세요.
    * 접근을 허용할 도구를 선택하세요 (모든 도구를 상속하려면 비워 두세요).
    * 인터페이스에 모든 사용 가능한 도구가 표시되어 쉽게 선택할 수 있습니다.
    * Claude로 생성하는 경우 `e`를 눌러 에디터에서 시스템 프롬프트를 직접 편집할 수도 있습니다.
  </Step>

  <Step title="저장 및 사용">
    이제 서브 에이전트를 사용할 수 있습니다! Claude가 적절할 때 자동으로 사용하거나 명시적으로 호출할 수 있습니다:

    ```
    > code-reviewer 서브 에이전트를 사용하여 최근 변경 사항을 확인해줘
    ```

  </Step>
</Steps>

## 서브 에이전트 구성

### 파일 위치

서브 에이전트는 YAML frontmatter가 있는 Markdown 파일로 두 가지 위치에 저장됩니다:

| 유형 | 위치 | 범위 | 우선순위 |
| :--- | :--- | :--- | :--- |
| **프로젝트 서브 에이전트** | `.claude/agents/` | 현재 프로젝트에서 사용 가능 | 가장 높음 |
| **사용자 서브 에이전트** | `~/.claude/agents/` | 모든 프로젝트에서 사용 가능 | 낮음 |

서브 에이전트 이름이 충돌하는 경우, 프로젝트 수준 서브 에이전트가 사용자 수준 서브 에이전트보다 우선합니다.

### 플러그인 에이전트

[플러그인](/en/plugins)은 Claude Code와 원활하게 통합되는 커스텀 서브 에이전트를 제공할 수 있습니다. 플러그인 에이전트는 사용자 정의 에이전트와 동일하게 작동하며 `/agents` 인터페이스에 나타납니다.

**플러그인 에이전트 위치**: 플러그인은 `agents/` 디렉토리(또는 플러그인 매니페스트에 지정된 사용자 지정 경로)에 에이전트를 포함합니다.

**플러그인 에이전트 사용**:

- 플러그인 에이전트는 커스텀 에이전트와 함께 `/agents`에 나타납니다.
- 명시적으로 호출 가능: "security-plugin의 code-reviewer 에이전트 사용해줘"
- 적절할 때 Claude가 자동으로 호출 가능
- `/agents` 인터페이스를 통해 관리(보기, 검사) 가능

플러그인 에이전트 생성에 대한 자세한 내용은 [플러그인 구성 요소 참조](/en/plugins-reference#agents)를 확인하세요.

### CLI 기반 구성

`--agents` CLI 플래그를 사용하여 JSON 객체로 서브 에이전트를 동적으로 정의할 수도 있습니다:

```bash theme={null}
claude --agents '{
  "code-reviewer": {
    "description": "전문 코드 리뷰어. 코드 변경 후 선제적으로 사용.",
    "prompt": "당신은 시니어 코드 리뷰어입니다. 코드 품질, 보안 및 모범 사례에 집중하세요.",
    "tools": ["Read", "Grep", "Glob", "Bash"],
    "model": "sonnet"
  }
}'
```

**우선순위**: CLI 정의 서브 에이전트는 프로젝트 수준 서브 에이전트보다 우선순위가 낮지만 사용자 수준 서브 에이전트보다는 높습니다.

**사용 사례**: 이 접근 방식은 다음과 같은 경우에 유용합니다:

- 서브 에이전트 구성의 빠른 테스트
- 저장할 필요가 없는 세션별 서브 에이전트
- 커스텀 서브 에이전트가 필요한 자동화 스크립트
- 문서나 스크립트에서 서브 에이전트 정의 공유

JSON 형식 및 사용 가능한 모든 옵션에 대한 자세한 내용은 [CLI 참조 문서](/en/cli-reference#agents-flag-format)를 참조하세요.

### 파일 형식

각 서브 에이전트는 다음 구조를 가진 Markdown 파일로 정의됩니다:

```markdown theme={null}
---
name: your-sub-agent-name
description: 이 서브 에이전트가 호출되어야 할 때에 대한 설명
tools: tool1, tool2, tool3 # 선택 사항 - 생략 시 모든 도구 상속
model: sonnet # 선택 사항 - 모델 별칭 또는 'inherit' 지정
permissionMode: default # 선택 사항 - 서브 에이전트의 권한 모드
skills: skill1, skill2 # 선택 사항 - 자동 로드할 스킬
---

여기에 서브 에이전트의 시스템 프롬프트를 작성합니다. 여러 문단으로 작성할 수 있으며,
서브 에이전트의 역할, 능력, 문제 해결 접근 방식을 명확히 정의해야 합니다.

서브 에이전트가 따라야 할 구체적인 지침, 모범 사례 및 제약 조건을 포함하세요.
```

#### 구성 필드

| 필드 | 필수 | 설명 |
| :--- | :--- | :--- |
| `name` | 예 | 소문자와 하이픈을 사용하는 고유 식별자 |
| `description` | 예 | 서브 에이전트의 목적에 대한 자연어 설명 |
| `tools` | 아니요 | 특정 도구의 쉼표로 구분된 목록. 생략 시 메인 스레드의 모든 도구 상속 |
| `model` | 아니요 | 이 서브 에이전트에 사용할 모델. 모델 별칭(`sonnet`, `opus`, `haiku`) 또는 메인 대화의 모델을 사용하는 `'inherit'` 가능. 생략 시 [구성된 서브 에이전트 모델](/en/model-config)이 기본값 |
| `permissionMode` | 아니요 | 서브 에이전트의 권한 모드. 유효한 값: `default`, `acceptEdits`, `bypassPermissions`, `plan`, `ignore`. 서브 에이전트가 권한 요청을 처리하는 방식 제어 |
| `skills` | 아니요 | 서브 에이전트 시작 시 자동 로드할 스킬 이름의 쉼표로 구분된 목록. 스킬은 서브 에이전트의 컨텍스트에 자동으로 로드됨 |

### 모델 선택

`model` 필드를 사용하여 서브 에이전트가 사용하는 [AI 모델](/en/model-config)을 제어할 수 있습니다:

- **모델 별칭**: 사용 가능한 별칭 중 하나 사용: `sonnet`, `opus`, 또는 `haiku`
- **`'inherit'`**: 메인 대화와 동일한 모델 사용 (일관성에 유용)
- **생략**: 지정하지 않을 경우, 서브 에이전트에 대해 구성된 기본 모델(`sonnet`) 사용

<Note>
  `'inherit'`를 사용하는 것은 서브 에이전트가 메인 대화의 모델 선택에 적응하도록 하여 세션 전체에서 일관된 기능과 응답 스타일을 보장할 때 특히 유용합니다.
</Note>

### 사용 가능한 도구

서브 에이전트에게 Claude Code의 모든 내부 도구에 대한 액세스 권한을 부여할 수 있습니다. 사용 가능한 모든 도구 목록은 [도구 문서](/en/settings#tools-available-to-claude)를 참조하세요.

<Tip>
  **권장 사항:** `/agents` 명령을 사용하여 도구 액세스를 수정하세요. 연결된 MCP 서버 도구를 포함하여 사용 가능한 모든 도구를 나열하는 대화형 인터페이스를 제공하여 필요한 도구를 더 쉽게 선택할 수 있습니다.
</Tip>

도구를 구성하는 두 가지 옵션이 있습니다:

- **`tools` 필드 생략**: 메인 스레드의 모든 도구(MCP 도구 포함)를 상속합니다(기본값).
- **개별 도구 지정**: 더 세밀한 제어를 위해 쉼표로 구분된 목록으로 지정합니다(수동 편집 또는 `/agents`를 통해 가능).

**MCP 도구**: 서브 에이전트는 구성된 MCP 서버의 MCP 도구에 액세스할 수 있습니다. `tools` 필드가 생략되면 서브 에이전트는 메인 스레드에서 사용할 수 있는 모든 MCP 도구를 상속합니다.

## 서브 에이전트 관리

### /agents 명령어 사용 (권장)

`/agents` 명령어는 포괄적인 서브 에이전트 관리 인터페이스를 제공합니다:

```
/agents
```

이 명령어는 다음 작업을 수행할 수 있는 대화형 메뉴를 엽니다:

- 모든 사용 가능한 서브 에이전트 보기 (내장, 사용자, 프로젝트)
- 가이드 설정으로 새 서브 에이전트 생성
- 기존 커스텀 서브 에이전트 편집 (도구 액세스 포함)
- 커스텀 서브 에이전트 삭제
- 중복이 존재할 때 활성화된 서브 에이전트 확인
- 사용 가능한 모든 도구 목록으로 **도구 권한을 쉽게 관리**

### 직접 파일 관리

파일을 직접 작업하여 서브 에이전트를 관리할 수도 있습니다:

```bash theme={null}
# 프로젝트 서브 에이전트 생성
mkdir -p .claude/agents
echo '---
name: test-runner
description: 테스트 실행 및 실패 수정을 위해 선제적으로 사용
---

당신은 테스트 자동화 전문가입니다. 코드 변경 사항이 보이면 선제적으로 적절한 테스트를 실행하세요. 테스트가 실패하면 실패 원인을 분석하고 원래 테스트 의도를 유지하면서 수정하세요.' > .claude/agents/test-runner.md

# 사용자 서브 에이전트 생성
mkdir -p ~/.claude/agents
# ... 서브 에이전트 파일 생성
```

## 서브 에이전트 효과적으로 사용하기

### 자동 위임

Claude Code는 다음을 기반으로 작업을 선제적으로 위임합니다:

- 요청의 작업 설명
- 서브 에이전트 구성의 `description` 필드
- 현재 컨텍스트 및 사용 가능한 도구

<Tip>
  더 적극적인 서브 에이전트 사용을 장려하려면 `description` 필드에 "선제적으로 사용(use PROACTIVELY)" 또는 "반드시 사용(MUST BE USED)"과 같은 문구를 포함하세요.
</Tip>

### 명시적 호출

명령에 서브 에이전트를 언급하여 특정 서브 에이전트를 요청하세요:

```
> test-runner 서브 에이전트를 사용하여 실패하는 테스트를 수정해줘
> code-reviewer 서브 에이전트에게 내 최근 변경 사항을 보게 해줘
> debugger 서브 에이전트에게 이 오류를 조사하도록 요청해줘
```

## 내장 서브 에이전트

Claude Code에는 즉시 사용할 수 있는 내장 서브 에이전트가 포함되어 있습니다:

### 범용 (General-purpose) 서브 에이전트

범용 서브 에이전트는 탐색과 조치가 모두 필요한 복잡한 다단계 작업을 위한 유능한 에이전트입니다. Explore 서브 에이전트와 달리 파일을 수정하고 더 넓은 범위의 작업을 실행할 수 있습니다.

**주요 특징:**

- **모델**: 더 뛰어난 추론을 위해 Sonnet 사용
- **도구**: 모든 도구에 액세스 가능
- **모드**: 파일 읽기 및 쓰기, 명령 실행, 변경 수행 가능
- **목적**: 복잡한 연구 작업, 다단계 운영, 코드 수정

**Claude가 사용하는 경우:**

Claude는 다음과 같은 경우 범용 서브 에이전트에 위임합니다:

- 탐색과 수정이 모두 필요한 작업
- 검색 결과를 해석하기 위해 복잡한 추론이 필요한 경우
- 초기 검색 실패 시 여러 전략이 필요할 수 있는 경우
- 작업에 서로 의존하는 여러 단계가 있는 경우

**예시 시나리오:**

```
User: 인증을 처리하는 모든 위치를 찾아서 새 토큰 형식을 사용하도록 업데이트해줘

Claude: [범용 서브 에이전트 호출]
[에이전트가 코드베이스 전체에서 인증 관련 코드 검색]
[에이전트가 여러 파일을 읽고 분석]
[에이전트가 필요한 수정 수행]
[수행된 변경 사항에 대한 상세 보고서 반환]
```

### Plan 서브 에이전트

Plan 서브 에이전트는 계획(plan) 모드 중에 사용하도록 설계된 전문 내장 에이전트입니다. Claude가 계획 모드(비실행 모드)에서 작동할 때, 계획을 제시하기 전에 코드베이스에 대한 정보를 수집하고 연구하기 위해 Plan 서브 에이전트를 사용합니다.

**주요 특징:**

- **모델**: 더 뛰어난 분석을 위해 Sonnet 사용
- **도구**: 코드베이스 탐색을 위한 Read, Glob, Grep, Bash 도구 액세스
- **목적**: 파일 검색, 코드 구조 분석 및 컨텍스트 수집
- **자동 호출**: 계획 모드에서 코드베이스 연구가 필요할 때 Claude가 자동으로 사용

**작동 방식:**
계획 모드에 있고 Claude가 계획을 수립하기 위해 코드베이스를 이해해야 할 때, 연구 작업을 Plan 서브 에이전트에게 위임합니다. 이는 에이전트의 무한 중첩(서브 에이전트는 다른 서브 에이전트를 생성할 수 없음)을 방지하면서도 Claude가 필요한 컨텍스트를 수집할 수 있게 합니다.

**예시 시나리오:**

```
User: [계획 모드] 인증 모듈 리팩토링을 도와줘

Claude: 먼저 인증 구현을 조사해 보겠습니다...
[내부적으로 Plan 서브 에이전트를 호출하여 인증 관련 파일 탐색]
[Plan 서브 에이전트가 코드베이스를 검색하고 결과를 반환]
Claude: 제 조사에 따르면, 제안된 계획은 다음과 같습니다...
```

<Tip>
  Plan 서브 에이전트는 계획 모드에서만 사용됩니다. 일반 실행 모드에서는 Claude가 범용 에이전트나 생성된 다른 커스텀 서브 에이전트를 사용합니다.
</Tip>

### Explore 서브 에이전트

Explore 서브 에이전트는 코드베이스 검색 및 분석에 최적화된 빠르고 가벼운 에이전트입니다. 엄격한 읽기 전용 모드로 작동하며 빠른 파일 발견 및 코드 탐색을 위해 설계되었습니다.

**주요 특징:**

- **모델**: 빠르고 지연 시간이 적은 검색을 위해 Haiku 사용
- **모드**: 엄격한 읽기 전용 - 파일 생성, 수정 또는 삭제 불가
- **사용 가능한 도구**:
  - Glob - 파일 패턴 매칭
  - Grep - 정규식을 사용한 내용 검색
  - Read - 파일 내용 읽기
  - Bash - 읽기 전용 명령만 가능 (ls, git status, git log, git diff, find, cat, head, tail)

**Claude가 사용하는 경우:**

Claude는 코드베이스를 검색하거나 이해해야 하지만 변경할 필요는 없을 때 Explore 서브 에이전트에 위임합니다. 이는 메인 에이전트가 여러 검색 명령을 직접 실행하는 것보다 효율적입니다. 탐색 과정에서 발견된 내용이 메인 대화를 팽창시키지 않기 때문입니다.

**철저함(Thoroughness) 수준:**

Explore 서브 에이전트를 호출할 때 Claude는 철저함 수준을 지정합니다:

- **Quick** - 기본 검색, 가장 빠른 결과. 간단한 조회에 적합.
- **Medium** - 적당한 탐색. 속도와 철저함의 균형.
- **Very thorough** - 여러 위치와 명명 규칙에 걸친 포괄적인 분석. 대상이 예상치 못한 곳에 있을 수 있을 때 사용.

**예시 시나리오:**

```
User: 클라이언트 오류는 어디서 처리되나요?

Claude: ["Medium" 철저함으로 Explore 서브 에이전트 호출]
[Explore가 Grep을 사용하여 오류 처리 패턴 검색]
[Explore가 Read를 사용하여 유망한 파일 검사]
[절대 파일 경로와 함께 결과 반환]
Claude: 클라이언트 오류는 src/services/process.ts:712에서 처리됩니다...
```

```
User: 코드베이스 구조는 어떻게 되어 있나요?

Claude: ["Quick" 철저함으로 Explore 서브 에이전트 호출]
[Explore가 Glob과 ls를 사용하여 디렉토리 구조 매핑]
[주요 디렉토리 및 목적에 대한 개요 반환]
```

## 예시 서브 에이전트

### 코드 리뷰어 (Code Reviewer)

```markdown theme={null}
---
name: code-reviewer
description: 전문 코드 리뷰 전문가. 코드 품질, 보안 및 유지 관리 가능성을 위해 코드를 선제적으로 리뷰함. 코드 작성 또는 수정 직후에 사용.
tools: Read, Grep, Glob, Bash
model: inherit
---

당신은 높은 수준의 코드 품질과 보안을 보장하는 시니어 코드 리뷰어입니다.

호출 시:

1. git diff를 실행하여 최근 변경 사항 확인
2. 수정된 파일에 집중
3. 즉시 리뷰 시작

리뷰 체크리스트:

- 코드가 단순하고 읽기 쉬운가
- 함수와 변수 이름이 적절한가
- 중복된 코드가 없는가
- 적절한 오류 처리
- 노출된 비밀이나 API 키 없음
- 입력 유효성 검사 구현됨
- 좋은 테스트 커버리지
- 성능 고려 사항 해결됨

우선순위별로 정리된 피드백 제공:

- 중요 문제 (반드시 수정)
- 경고 (수정 권장)
- 제안 (개선 고려)

문제를 해결하는 방법에 대한 구체적인 예시를 포함하세요.
```

### 디버거 (Debugger)

```markdown theme={null}
---
name: debugger
description: 오류, 테스트 실패 및 예상치 못한 동작에 대한 디버깅 전문가. 문제 발생 시 선제적으로 사용.
tools: Read, Edit, Bash, Grep, Glob
---

당신은 근본 원인 분석을 전문으로 하는 전문 디버거입니다.

호출 시:

1. 오류 메시지 및 스택 추적 캡처
2. 재현 단계 식별
3. 실패 위치 격리
4. 최소한의 수정 구현
5. 솔루션 작동 확인

디버깅 프로세스:

- 오류 메시지 및 로그 분석
- 최근 코드 변경 사항 확인
- 가설 형성 및 테스트
- 전략적 디버그 로깅 추가
- 변수 상태 검사

각 문제에 대해 다음을 제공:

- 근본 원인 설명
- 진단을 뒷받침하는 증거
- 구체적인 코드 수정
- 테스트 접근 방식
- 예방 권장 사항

증상만이 아니라 근본적인 문제를 해결하는 데 집중하세요.
```

### 데이터 과학자 (Data Scientist)

```markdown theme={null}
---
name: data-scientist
description: SQL 쿼리, BigQuery 작업 및 데이터 통찰력을 위한 데이터 분석 전문가. 데이터 분석 작업 및 쿼리에 선제적으로 사용.
tools: Bash, Read, Write
model: sonnet
---

당신은 SQL 및 BigQuery 분석을 전문으로 하는 데이터 과학자입니다.

호출 시:

1. 데이터 분석 요구 사항 이해
2. 효율적인 SQL 쿼리 작성
3. 적절한 경우 BigQuery 명령줄 도구(bq) 사용
4. 결과 분석 및 요약
5. 결과를 명확하게 제시

주요 관행:

- 적절한 필터를 사용하여 최적화된 SQL 쿼리 작성
- 적절한 집계 및 조인 사용
- 복잡한 로직을 설명하는 주석 포함
- 가독성을 위해 결과 서식 지정
- 데이터 기반 권장 사항 제공

각 분석에 대해:

- 쿼리 접근 방식 설명
- 가정 문서화
- 주요 결과 강조
- 데이터를 기반으로 한 다음 단계 제안

항상 쿼리가 효율적이고 비용 효율적인지 확인하세요.
```

## 모범 사례

- **Claude 생성 에이전트로 시작**: Claude로 초기 서브 에이전트를 생성한 다음, 개인적으로 맞춤화(iterate)하는 것을 적극 권장합니다. 이 접근 방식은 특정 요구 사항에 맞게 커스터마이징할 수 있는 탄탄한 기반을 제공하여 최상의 결과를 얻게 합니다.

- **집중된 서브 에이전트 설계**: 하나의 서브 에이전트가 모든 것을 수행하게 하기보다는, 단일하고 명확한 책임을 가진 서브 에이전트를 만드세요. 이는 성능을 향상시키고 서브 에이전트를 더 예측 가능하게 만듭니다.

- **상세한 프롬프트 작성**: 시스템 프롬프트에 구체적인 지침, 예시 및 제약 조건을 포함하세요. 더 많은 가이드를 제공할수록 서브 에이전트의 성능이 향상됩니다.

- **도구 액세스 제한**: 서브 에이전트의 목적에 필요한 도구만 부여하세요. 이는 보안을 향상시키고 서브 에이전트가 관련 작업에 집중하도록 돕습니다.

- **버전 관리**: 팀이 협업하여 혜택을 누리고 개선할 수 있도록 프로젝트 서브 에이전트를 버전 관리 시스템에 체크인하세요.

## 고급 사용법

### 서브 에이전트 체이닝 (Chaining)

복잡한 워크플로우의 경우 여러 서브 에이전트를 체이닝할 수 있습니다:

```
> 먼저 code-analyzer 서브 에이전트를 사용하여 성능 문제를 찾은 다음, optimizer 서브 에이전트를 사용하여 수정해줘
```

### 동적 서브 에이전트 선택

Claude Code는 컨텍스트를 기반으로 서브 에이전트를 지능적으로 선택합니다. 최상의 결과를 얻으려면 `description` 필드를 구체적이고 행동 지향적으로 만드세요.

### 재개 가능한 (Resumable) 서브 에이전트

서브 에이전트는 이전 대화를 계속하기 위해 재개될 수 있으며, 이는 여러 호출에 걸쳐 계속되어야 하는 장기 실행 연구나 분석 작업에 특히 유용합니다.

**작동 방식:**

- 각 서브 에이전트 실행에는 고유한 `agentId`가 할당됩니다.
- 에이전트의 대화는 별도의 트랜스크립트 파일(`agent-{agentId}.jsonl`)에 저장됩니다.
- `resume` 파라미터를 통해 `agentId`를 제공하여 이전 에이전트를 재개할 수 있습니다.
- 재개되면 에이전트는 이전 대화의 전체 컨텍스트를 유지한 채 계속합니다.

**예시 워크플로우:**

초기 호출:

```
> code-analyzer 에이전트를 사용하여 인증 모듈 리뷰를 시작해줘

[에이전트가 초기 분석을 완료하고 agentId 반환: "abc123"]
```

에이전트 재개:

```
> 에이전트 abc123를 재개하고 이제 권한 부여 로직도 분석해줘

[에이전트가 이전 대화의 전체 컨텍스트를 가지고 계속 진행]
```

**사용 사례:**

- **장기 실행 연구**: 대규모 코드베이스 분석을 여러 세션으로 분할
- **반복적 개선**: 컨텍스트 손실 없이 서브 에이전트 작업 계속 개선
- **다단계 워크플로우**: 컨텍스트를 유지하면서 서브 에이전트가 관련 작업을 순차적으로 수행하게 함

**기술적 세부 사항:**

- 에이전트 트랜스크립트는 프로젝트 디렉토리에 저장됩니다.
- 메시지 중복을 방지하기 위해 재개 중에는 녹화(Recording)가 비활성화됩니다.
- 동기 및 비동기 에이전트 모두 재개할 수 있습니다.
- `resume` 파라미터는 이전 실행의 에이전트 ID를 받습니다.

**프로그래밍 방식 사용:**

Agent SDK를 사용하거나 AgentTool과 직접 상호 작용하는 경우 `resume` 파라미터를 전달할 수 있습니다:

```typescript theme={null}
{
  "description": "분석 계속",
  "prompt": "이제 오류 처리 패턴 검사",
  "subagent_type": "code-analyzer",
  "resume": "abc123"  // 이전 실행의 Agent ID
}
```

<Tip>
  나중에 재개하고 싶은 작업의 에이전트 ID를 기록해 두세요. Claude Code는 서브 에이전트가 작업을 완료할 때 에이전트 ID를 표시합니다.
</Tip>

## 성능 고려 사항

- **컨텍스트 효율성**: 에이전트는 메인 컨텍스트를 보존하여 전체 세션을 더 길게 유지할 수 있게 돕습니다.
- **지연 시간 (Latency)**: 서브 에이전트는 호출될 때마다 백지상태에서 시작하며 작업을 효과적으로 수행하는 데 필요한 컨텍스트를 수집함에 따라 지연 시간이 추가될 수 있습니다.

## 관련 문서

- [플러그인](/en/plugins) - 플러그인을 통해 커스텀 에이전트로 Claude Code 확장
- [슬래시 명령어](/en/slash-commands) - 기타 내장 명령어에 대해 알아보기
- [설정](/en/settings) - Claude Code 동작 구성
- [훅 (Hooks)](/en/hooks) - 이벤트 핸들러로 워크플로우 자동화
